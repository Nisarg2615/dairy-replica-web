
{% extends "base.html" %}

{% block title %}Calendar View - DairyDash Connect{% endblock %}

{% block content %}
<section class="dashboard">
    <div class="container">
        <div class="dashboard-header">
            <h1>Calendar View</h1>
            <p>Track your milk delivery history</p>
            <a href="/customer_dashboard" class="btn btn-secondary">Back to Dashboard</a>
        </div>
        
        <div class="dashboard-content">
            <div class="dashboard-card">
                <div class="calendar-header">
                    <h2>{{ month_name }} {{ year }}</h2>
                </div>
                <div class="calendar">
                    <div class="calendar-weekdays">
                        <div>Sun</div>
                        <div>Mon</div>
                        <div>Tue</div>
                        <div>Wed</div>
                        <div>Thu</div>
                        <div>Fri</div>
                        <div>Sat</div>
                    </div>
                    <div class="calendar-days">
                        {% for day in range(1, (calendar_data|length + 1)) %}
                            {% set day_data = calendar_data[day-1] %}
                            <div class="calendar-day {{ day_data.status }}">
                                <div class="day-number">{{ day }}</div>
                                {% if day_data.status != 'not_ordered' %}
                                    <div class="day-info">
                                        {% if day_data.order %}
                                            {{ day_data.order.quantity }}L
                                        {% else %}
                                            Default
                                        {% endif %}
                                    </div>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="calendar-legend">
                    <div class="legend-item">
                        <div class="legend-color delivered"></div>
                        <div>Delivered</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color ordered"></div>
                        <div>Ordered (Upcoming)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color not_ordered"></div>
                        <div>Not Ordered</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
